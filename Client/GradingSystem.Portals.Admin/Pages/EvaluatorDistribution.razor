@page "/home/evaluatordistribution"
@layout Home
<PageTitle>Repartitie evaluatori</PageTitle>
<div class="d-flex flex-row commands-container">
    <button @onclick="OnGoBackClick" class="btn btn-secondary command-btn">
        <div class="d-flex flex-row ">
            <span class="material-icons">arrow_back</span>
            <span>Inapoi</span>
        </div>
    </button>
    
</div>


<div class="d-flex flex-row main-table">
<table class="table table-striped table-bordered ">
    <thead class="thead-light">
        <tr>
            <th scope="col">Examen</th>
            <th scope="col">Disciplina</th>
            <th scope="col">Numarul total de verificatori</th>
            <th scope="col">Numarul de verificatori per lucrare</th>
        </tr>
    </thead>
    <tbody>
        @{
           if (statistics != null)
            {
                foreach (var stat in statistics)
                {
                    if(stat.WasGenerated)
                    {
                        <tr>
                        <th scope="row">@stat.ExamName</th>
                        <td>@stat.SubjectName</td>
                        <td>@stat.TotalNrOfEvaluators</td>
                        <td>@stat.NumberOfEvaluatorsPerThesis</td>
                        <td>Repartitia a fost generata</td>
                    </tr>
                    }
                    else{
                    <tr>
                        <th scope="row">@stat.ExamName</th>
                        <td>@stat.SubjectName</td>
                        <td>@stat.TotalNrOfEvaluators</td>
                        <td>@stat.NumberOfEvaluatorsPerThesis</td>
                        <td><button @onclick="() => TriggerEvaluatorRepartitionClick(stat.ExamName)" class="btn btn-success">
            <span>Genereaza repartitia</span>
    </button></td>
                    </tr>
                    }
                }
            }
        }
    </tbody>
</table>
</div>
